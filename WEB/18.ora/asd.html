<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ballon</title>
</head>

<body>
    <input type="range" orient="vertical" style="-webkit-appearance: slider-vertical;height: 700px;" max="550"
        id="csuszka" onmousemove="mozgat(this)">
    <svg style="border:1px black solid" xmlns:dc="http://purl.org/dc/elements/1.1/"
        xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
        xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" id="svg8" version="1.1" viewBox="0 0 200 400" height="200mm"
        width="400mm">
        <defs id="defs2">
            <linearGradient id="linearGradient215">
                <stop id="stop211" offset="0" style="stop-color:#eb7368;stop-opacity:1;" />
                <stop id="stop213" offset="1" style="stop-color:#c10b23;stop-opacity:1" />
            </linearGradient>
            <linearGradient id="linearGradient99">
                <stop id="stop95" offset="0" style="stop-color:#c50e25;stop-opacity:1;" />
                <stop id="stop97" offset="1" style="stop-color:#cf192a;stop-opacity:1" />
            </linearGradient>
            <linearGradient id="linearGradient31">
                <stop id="stop27" offset="0" style="stop-color:#f7d529;stop-opacity:1;" />
                <stop id="stop29" offset="1" style="stop-color:#eac124;stop-opacity:1" />
            </linearGradient>
            <radialGradient gradientUnits="userSpaceOnUse"
                gradientTransform="matrix(1.7041021,1.0915161,-0.37075314,0.578829,369.26078,79.094975)" r="23.996355"
                fy="218.44211" fx="20.045214" cy="218.44211" cx="20.045214" id="radialGradient33"
                xlink:href="#linearGradient31" />
            <radialGradient gradientUnits="userSpaceOnUse"
                gradientTransform="matrix(-0.01826483,-1.2955162,0.62551962,-0.00882569,227.31881,-29.382087)"
                r="88.733345" fy="174.508" fx="-159.50595" cy="174.508" cx="-159.50595" id="radialGradient101"
                xlink:href="#linearGradient99" />
            <radialGradient gradientUnits="userSpaceOnUse"
                gradientTransform="matrix(-0.0543811,2.9773719,-2.0935664,-0.03823871,534.35147,-69.104222)"
                r="43.258961" fy="88.894691" fx="44.697029" cy="88.894691" cx="44.697029" id="radialGradient217"
                xlink:href="#linearGradient215" />
        </defs>
        <metadata id="metadata5">
            <rdf:RDF>
                <cc:Work rdf:about="">
                    <dc:format>image/svg+xml</dc:format>
                    <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                    <dc:title></dc:title>
                </cc:Work>
            </rdf:RDF>
        </metadata>
        <!--magasság :0-600-->
        <g transform="scale(0.5, 0.5) translate(-600,500)" id="ballon">
            <g transform="matrix(1.0557184,0,0,1.0557184,20.063091,-25.945027)" id="g260">
                <path
                    style="opacity:0.80680009;vector-effect:none;fill:url(#radialGradient101);fill-opacity:1;stroke:none;stroke-width:1.08345652;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    d="m 342.83697,32.832023 c -16.39883,0.0015 -24.82613,1.652662 -35.29914,4.712964 -34.94159,10.232966 -55.08938,32.649149 -55.59816,66.113203 0.19887,2.44699 0.003,4.95681 0,7.21662 0,35.54479 35.39143,80.97472 64.40796,102.0966 h 48.25442 c 26.36157,-20.29271 64.80431,-63.13937 64.80431,-98.88957 -0.29055,-3.65998 -0.0898,-7.03752 0,-10.42365 -1.0646,-35.689715 -30.00606,-59.224867 -56.07535,-66.229477 -9.73189,-2.614882 -14.20627,-4.598187 -30.49404,-4.59669 z"
                    id="path70" />
                <path
                    style="opacity:1;vector-effect:none;fill:#d5202e;fill-opacity:1;stroke:none;stroke-width:1.0834564;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    d="m 253.85789,126.08016 c 7.73971,32.42647 37.48114,68.68694 62.48971,86.89133 h 48.25442 c 23.46603,-18.06375 56.50445,-53.99866 63.47934,-86.89133 z"
                    id="path70-7" />
                <path
                    style="fill:url(#radialGradient217);fill-opacity:1;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                    d="m 338.91445,32.753735 c 0,0 -44.85809,15.776039 -45.44317,64.0021 1.9969,40.366915 -3.88735,78.370465 23.08429,115.799715 l 48.04648,0.41586 c 19.52996,-35.08548 26.957,-68.00441 24.4802,-108.17385 -1.43992,-23.353084 -11.84187,-61.281075 -50.1678,-72.043825 z"
                    id="path21" />
                <path
                    style="fill:#5188cb;fill-opacity:1;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                    d="m 260.45994,70.493528 c 0,0 15.00784,7.342077 21.88031,12.935108 6.92231,5.633596 17.76488,20.032734 17.76488,20.032734 0,0 7.96789,-11.514119 16.25298,-19.654758 10.51589,-10.332544 22.30059,-15.875 22.30059,-15.875 0,0 11.82427,5.291794 22.25474,16.474391 7.02373,7.530196 16.88183,19.613607 15.92086,18.677397 0,0 10.80018,-14.451638 17.76488,-20.03274 7.30542,-5.854148 24.56844,-13.607142 24.56844,-13.607142 0,0 3.00865,4.614839 4.07383,7.139237 1.27986,3.033182 2.72975,9.491714 2.72975,9.491714 0,0 -15.52438,7.300243 -21.92262,12.851193 -10.09186,8.755428 -24.94643,31.372028 -24.94643,31.372028 0,0 -14.29228,-16.18479 -21.92262,-23.8125 -6.0539,-6.05184 -18.8988,-17.386908 -18.8988,-17.386908 0,0 -16.05952,12.372458 -23.05655,19.654768 -6.2168,6.47025 -16.63095,21.16665 -16.63095,21.16665 0,0 -12.93844,-17.95449 -20.41072,-26.08035 -10.3388,-11.243108 -24.35831,-14.782681 -24.35831,-14.782681 0,0 0.96283,-6.880657 2.14163,-10.121438 1.08969,-2.995786 4.49411,-8.441703 4.49411,-8.441703 z"
                    id="path50-8" />
                <path
                    style="fill:url(#radialGradient33);fill-opacity:1;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                    d="m 317.88819,224.4753 47.30671,-0.53454 c 0,0 0.37297,14.71721 0,21.9161 -0.179,3.45499 -3.75611,5.90428 -6.68174,7.75082 -5.63123,3.55421 -25.95248,3.89698 -31.5378,1.60362 -3.65974,-1.50271 -8.58593,-4.09374 -9.08717,-8.01809 -0.54947,-4.30205 -0.0479,-16.57534 0,-22.71791 z"
                    id="path25" />
                <g id="g249">
                    <path id="path50"
                        d="m 340.04831,68.493821 c 0,0 -10.91443,3.191058 -24.35887,17.345297 -5.85489,6.164004 -14.19486,18.184312 -14.19486,18.184312 0,0 -10.84249,-14.399288 -17.7648,-20.032881 -6.87247,-5.593033 -23.05647,-13.229167 -23.05647,-13.229167 l -0.1788,0.05374 c -2.90734,5.01537 -5.09914,10.491137 -6.53759,16.417605 l 0.66869,0.915705 c 0,0 14.608,5.009647 24.9468,16.252758 7.47228,8.12586 20.41064,26.08058 20.41064,26.08058 0,0 10.41423,-14.69641 16.63103,-21.16667 6.99703,-7.28231 23.05647,-19.654614 23.05647,-19.654614 0,0 12.84468,11.334704 18.89859,17.386534 7.63034,7.62771 21.92269,23.8125 21.92269,23.8125 0,0 14.85443,-22.61629 24.94628,-31.371727 5.64167,-4.894561 18.34646,-11.133706 21.27984,-12.544454 -1.76931,-5.901102 -4.33546,-11.351141 -7.49825,-16.322003 -4.06106,1.879423 -17.09671,8.076094 -23.23062,12.991457 -6.9647,5.581105 -17.76533,20.032887 -17.76533,20.032887 0,0 -10.23033,-13.237344 -15.92047,-18.677416 -9.08813,-8.688716 -22.25497,-16.474443 -22.25497,-16.474443 z"
                        style="fill:#5188cb;fill-opacity:1;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
                    <path id="path52-7"
                        d="m 426.71795,86.943341 c -2.9334,1.410787 -15.63817,7.649893 -21.27984,12.544454 -10.09185,8.755435 -24.94628,31.371725 -24.94628,31.371725 0,0 -14.29235,-16.18479 -21.92269,-23.8125 -6.0539,-6.05182 -18.89859,-17.386533 -18.89859,-17.386533 0,0 -16.05944,12.372313 -23.05647,19.654613 -6.2168,6.47026 -16.63103,21.16667 -16.63103,21.16667 0,0 -12.93836,-17.95472 -20.41064,-26.08058 -9.51121,-10.343137 -22.49172,-15.355772 -24.53183,-16.100828 -0.32128,0.126551 -0.85946,0.352785 -1.47278,0.631487 -0.99995,4.642104 -1.54966,9.551596 -1.62833,14.726231 0.0866,1.06607 0.0968,2.14351 0.0822,3.20756 0.25927,0.46321 0.45217,0.8015 0.45217,0.8015 0,0 17.09694,9.17255 24.05434,15.76906 9.06438,8.59419 22.18315,30.20126 22.18315,30.20126 0,0 12.89464,-17.65991 20.31245,-25.65787 6.34533,-6.84159 20.58014,-18.9761 20.58014,-18.9761 0,0 15.55127,13.3177 22.45031,20.84731 6.86223,7.48943 18.70893,24.05434 18.70893,24.05434 0,0 15.46451,-26.76748 26.99422,-36.61637 6.09464,-5.20612 21.15339,-11.03372 21.57336,-11.19569 0.026,-0.81376 0.0539,-1.62425 0.0754,-2.435 -0.17632,-5.912635 -1.1214,-11.489186 -2.68816,-16.714739 z"
                        style="fill:#53b249;fill-opacity:1;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
                    <path id="path144-2"
                        d="m 429.33071,106.1029 c 0,0 -11.57004,2.6759 -21.83796,11.75023 -11.37158,10.04969 -21.16672,26.54917 -26.72966,36.05205 0,0 -11.84667,-16.56491 -18.70889,-24.05434 -6.89904,-7.52961 -22.45031,-20.84731 -22.45031,-20.84731 0,0 -14.23482,12.13451 -20.58014,18.9761 -7.41781,7.99796 -20.31246,25.65787 -20.31246,25.65787 0,0 -10.75518,-20.18471 -22.18314,-30.20126 -10.67359,-9.35535 -24.05435,-15.76906 -24.05435,-15.76906 l -0.17053,-0.29869 -0.29249,0.15865 c -0.0255,1.14917 -0.0699,2.27734 -0.0713,3.34759 0,5.55551 0.86484,11.35255 2.43448,17.26045 3.87619,1.73631 16.64987,8.05985 25.27649,19.48253 6.93068,9.17705 19.40812,28.52384 19.40812,28.52384 0,0 13.05033,-19.41843 20.28972,-27.64172 6.51953,-7.40559 20.29023,-19.11356 20.29023,-19.11356 0,0 17.48875,15.09489 24.99537,23.8187 6.01277,6.98773 15.87914,22.64254 15.87914,22.64254 0,0 16.70572,-26.91642 27.34717,-36.75744 7.89269,-7.29903 19.11407,-12.35067 19.11407,-12.35067 l 1.12655,-0.75086 c 0.84828,-4.02759 1.30535,-8.00944 1.30535,-11.90676 -0.22071,-2.78014 -0.15775,-5.39709 -0.0754,-7.97885 z"
                        style="fill:#f8d93a;fill-opacity:1;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
                </g>
            </g>
        </g>
        
        <!-- segéd kör az ütközés vizsgálathoz
            <circle id="ballon_vizsgalat" cx="0" cy="0" r="120" fill="red" opacity="0.2"/>
        -->
        <g>
            <defs id="defs3">
                <linearGradient id="linearGradient912">
                    <stop style="stop-color:#d7f4fe;stop-opacity:1.0000000;" offset="0.0000000" id="stop913" />
                    <stop style="stop-color:#9ed0cd;stop-opacity:1.0000000;" offset="0.3000000" id="stop855" />
                    <stop style="stop-color:#67aeae;stop-opacity:1.0000000;" offset="0.80000000" id="stop914" />
                    <stop style="stop-color:#d7f4fe;stop-opacity:1.0000000;" offset="1.0000000" id="stop9155" />
                </linearGradient>
                <radialGradient xlink:href="#linearGradient912" id="radialGradient915" />
                <linearGradient xlink:href="#linearGradient912" id="linearGradient854" x1="1" y1="0.5" x2="1" y2="1" />
            </defs>
            <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0"
                inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="6.4980192" inkscape:cx="34.249855"
                inkscape:cy="31.909439" inkscape:window-width="809" inkscape:window-height="630" inkscape:window-x="39"
                inkscape:window-y="118" />
            <!--x: -250,250  y:-50:150-->
            <path id="felho1" transform="scale(2, 2) translate(0,-50)"
                style="fill:lightblue;fill-rule:evenodd;stroke:#000000;stroke-width:1.2500000;stroke-dasharray:none;stroke-linejoin:round;"
                d="M 48.996171,37.251271 C 47.958668,32.143973 39.185631,24.658486 33.930828,26.057885 C 27.350244,27.875054 24.319102,33.750906 29.022229,38.180278 C 24.861109,35.364180 14.478948,32.941167 8.8516150,42.752305 C 5.3584330,50.061076 15.250525,54.633620 18.276730,54.093064 C 12.486132,53.396616 -1.7806601,65.306814 4.5717298,71.373662 C 12.398859,77.540434 30.328023,70.871946 31.115271,65.721140 C 29.368597,73.253219 49.289455,74.699245 49.782264,64.230844 C 48.360488,69.138884 62.574082,74.362572 69.331408,72.364112 C 77.800433,70.297826 76.782138,63.322187 75.780037,61.195189 C 82.294178,61.939711 92.493777,63.786015 97.011836,57.091162 C 100.16106,50.764622 98.288765,43.698338 94.234782,41.475620 C 89.817633,39.373843 84.991240,39.483372 79.361925,43.043469 C 83.828729,40.136070 81.073796,30.760619 76.597083,28.701006 C 71.495048,26.361815 65.365281,25.905286 59.859869,27.042626 C 55.323516,27.769206 48.144478,31.594752 48.996171,37.251271 z "
                sodipodi:nodetypes="cccccccccccccccc" />
            <path id="felho2" transform="scale(2, 2) translate(0,-50)"
                style="fill:lightblue;fill-rule:evenodd;stroke:#000000;stroke-width:1.2500000;stroke-dasharray:none;stroke-linejoin:round;"
                d="M 48.996171,37.251271 C 47.958668,32.143973 39.185631,24.658486 33.930828,26.057885 C 27.350244,27.875054 24.319102,33.750906 29.022229,38.180278 C 24.861109,35.364180 14.478948,32.941167 8.8516150,42.752305 C 5.3584330,50.061076 15.250525,54.633620 18.276730,54.093064 C 12.486132,53.396616 -1.7806601,65.306814 4.5717298,71.373662 C 12.398859,77.540434 30.328023,70.871946 31.115271,65.721140 C 29.368597,73.253219 49.289455,74.699245 49.782264,64.230844 C 48.360488,69.138884 62.574082,74.362572 69.331408,72.364112 C 77.800433,70.297826 76.782138,63.322187 75.780037,61.195189 C 82.294178,61.939711 92.493777,63.786015 97.011836,57.091162 C 100.16106,50.764622 98.288765,43.698338 94.234782,41.475620 C 89.817633,39.373843 84.991240,39.483372 79.361925,43.043469 C 83.828729,40.136070 81.073796,30.760619 76.597083,28.701006 C 71.495048,26.361815 65.365281,25.905286 59.859869,27.042626 C 55.323516,27.769206 48.144478,31.594752 48.996171,37.251271 z "
                sodipodi:nodetypes="cccccccccccccccc" />
            <path id="felho3" transform="scale(2, 2) translate(0,-50)"
                style="fill:lightblue;fill-rule:evenodd;stroke:#000000;stroke-width:1.2500000;stroke-dasharray:none;stroke-linejoin:round;"
                d="M 48.996171,37.251271 C 47.958668,32.143973 39.185631,24.658486 33.930828,26.057885 C 27.350244,27.875054 24.319102,33.750906 29.022229,38.180278 C 24.861109,35.364180 14.478948,32.941167 8.8516150,42.752305 C 5.3584330,50.061076 15.250525,54.633620 18.276730,54.093064 C 12.486132,53.396616 -1.7806601,65.306814 4.5717298,71.373662 C 12.398859,77.540434 30.328023,70.871946 31.115271,65.721140 C 29.368597,73.253219 49.289455,74.699245 49.782264,64.230844 C 48.360488,69.138884 62.574082,74.362572 69.331408,72.364112 C 77.800433,70.297826 76.782138,63.322187 75.780037,61.195189 C 82.294178,61.939711 92.493777,63.786015 97.011836,57.091162 C 100.16106,50.764622 98.288765,43.698338 94.234782,41.475620 C 89.817633,39.373843 84.991240,39.483372 79.361925,43.043469 C 83.828729,40.136070 81.073796,30.760619 76.597083,28.701006 C 71.495048,26.361815 65.365281,25.905286 59.859869,27.042626 C 55.323516,27.769206 48.144478,31.594752 48.996171,37.251271 z "
                sodipodi:nodetypes="cccccccccccccccc" />
       
        </g>
                <!-- segéd kör az ütközés vizsgálathoz
        <circle id="felho1_vizsgalat" cx="0" cy="0" r="100" fill="blue" opacity="0.2"/>
                -->
    </svg><br>
    <input type="button" value="Start" onclick="uj()">
    <script>
        function mozgat(csuszka) {
            //transform="scale(0.5, 0.5) translate(-600,500)"
            ballon.y= 550 - csuszka.value;
            ballon.y_vizsgalat=(550-(parseInt(csuszka.value)))/2+60;
            
            document.getElementById("ballon")
                .setAttribute("transform", "scale(0.5, 0.5) translate("+ballon.x+"," +  ballon.y + ")");
           /* document.getElementById("ballon_vizsgalat")
            .setAttribute("cx", ballon.x_vizsgalat);
            document.getElementById("ballon_vizsgalat")
            .setAttribute("cy", ballon.y_vizsgalat);
            document.getElementById("ballon_vizsgalat")
            .setAttribute("r", ballon.r);*/
        }
        //<!--x: -250,250  y:-50:150-->
        var felhok = [
            { id: "felho1", x: 150, y: -40, tempo: 2 ,x_vizsgalat:-110,y_vizsgalat:300,r:50},
            { id: "felho2", x: -150, y: 0, tempo: 3 ,x_vizsgalat:-110,y_vizsgalat:300,r:80},
            { id: "felho3", x: 0, y: 100, tempo: 4 ,x_vizsgalat:-110,y_vizsgalat:300,r:80}
        ]
        var ballon={id:"ballon",x:-600,y:300,x_vizsgalat:-110,y_vizsgalat:300,r:55}
        var stop=true;
        function felhok_mozgasa() {
            frissit();
            for (felho of felhok) {
                felho.x -= felho.tempo/4;
                felho.x_vizsgalat=felho.x*2+100;
                felho.y_vizsgalat=felho.y*2+100;
                if (felho.x < -250) {
                    felho.y = Math.round(Math.random() * 200 - 50);
                    felho.x = 250;
                }
            }
            utkozes();
            if(!stop)
                setTimeout("felhok_mozgasa()", 10);    
            
        }
        felhok_mozgasa()
        function frissit() {
            for (felho of felhok) {
                document.getElementById(felho.id)
                    .setAttribute("transform", "scale(2, 2) translate(" + felho.x + "," + felho.y + ")");
                    /*document.getElementById("felho1_vizsgalat")
            .setAttribute("cx", felho.x_vizsgalat);
            document.getElementById("felho1_vizsgalat")
            .setAttribute("cy",felho.y_vizsgalat);
            document.getElementById("felho1_vizsgalat")
            .setAttribute("r", felho.r);*/
            }
        }
        frissit();
        function utkozes(){
            for(var felho of felhok){
                var x=Math.abs(felho.x_vizsgalat-ballon.x_vizsgalat)
                var y=Math.abs(felho.y_vizsgalat-ballon.y_vizsgalat)
                var tav=Math.sqrt(x*x+y*y)
                
                if(tav<felho.r+ballon.r)
                {
                    console.log("ütközés:"+felho.id);
                    document.getElementById(felho.id).style.fill="red";
                    stop=true;
                }
            }
        }
        function uj(){
            stop=false;
            for (felho of felhok) {
                felho.x -= felho.tempo/4;
                felho.x_vizsgalat=felho.x*2+100;
                felho.y_vizsgalat=felho.y*2+100;
                    felho.y = Math.round(Math.random() * 200 - 50);
                    felho.x = Math.round(Math.random() * 200 - 50)+100;
                    document.getElementById(felho.id).style.fill="lightblue";
            }
            frissit();
            felhok_mozgasa();
        }
    </script>
</body>

</html>